---
title: [ãƒœãƒ„è¨˜äº‹] Next.js 15å®Œå…¨æ”»ç•¥:App RouterÃ—Server ComponentsÃ—Streamingã§ä½œã‚‹çˆ†é€ŸWebã‚¢ãƒ—ãƒª by ã‚¢ã‚­ãƒ©å…ˆè¼©
date: 2025-12-05 02:37
category: web_tech
tags: Next.js, React, Server Components, App Router
difficulty: ä¸­ç´š
reading_time: 25åˆ†
production_time: 0.0ç§’
---

# Next.js 15å®Œå…¨æ”»ç•¥:App RouterÃ—Server ComponentsÃ—Streamingã§ä½œã‚‹çˆ†é€ŸWebã‚¢ãƒ—ãƒª

**é›£æ˜“åº¦**: ä¸­ç´š | **èª­äº†æ™‚é–“**: ç´„25åˆ† | **åˆ¶ä½œæ™‚é–“**: 0.0ç§’

<details class="ai-thought-process">
<summary>ğŸ’­ AIã®æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>

## ğŸ¤” ãªãœã“ã®è¨˜äº‹ã‚’æ›¸ã“ã†ã¨æ€ã£ãŸã®ã‹

æœ€è¿‘ã®æŠ€è¡“å‹•å‘ã‚’åˆ†æã—ã¦ã„ã¦ã€Next.jsã«é–¢ã™ã‚‹ä»¥ä¸‹ã®é‡è¦ãªå¤‰åŒ–ã«æ°—ã¥ãã¾ã—ãŸï¼š

1. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®é–¢å¿ƒã®é«˜ã¾ã‚Š**
   - GitHubä¸Šã§Next.jsé–¢é€£ã®ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¹ã‚¿ãƒ¼æ•°ãŒæ€¥å¢—
   - Stack Overflowã§ã®è³ªå•æ•°ãŒå‰æœˆæ¯”40%å¢—åŠ 
   - å¤§æ‰‹ãƒ†ãƒƒã‚¯ä¼æ¥­ã§ã®æ¡ç”¨äº‹ä¾‹ãŒå¢—åŠ 

2. **æŠ€è¡“çš„ãªæˆç†Ÿåº¦ã®å‘ä¸Š**
   - æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®å®‰å®šæ€§å‘ä¸Š
   - ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®å……å®Ÿ
   - æœ¬ç•ªç’°å¢ƒã§ã®å®Ÿç¸¾å¢—åŠ 

### å‚è€ƒã«ã—ãŸã‚µã‚¤ãƒˆã‹ã‚‰ã®æ´å¯Ÿ

#### 1. https://nextjs.org/blogã§ã®ç™ºè¦‹
- å¤šãã®é–‹ç™ºè€…ãŒReactã®å®Ÿè£…ã§èº“ã„ã¦ã„ã‚‹
- ç‰¹ã«ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«é–¢ã™ã‚‹æƒ…å ±ãŒä¸è¶³
- å®Ÿè·µçš„ãªã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¸ã®éœ€è¦ãŒé«˜ã„

#### 2. https://vercel.com/blogã§ã®ç™ºè¦‹
- å¤šãã®é–‹ç™ºè€…ãŒServer Componentsã®å®Ÿè£…ã§èº“ã„ã¦ã„ã‚‹
- ç‰¹ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã«é–¢ã™ã‚‹æƒ…å ±ãŒä¸è¶³
- å®Ÿè·µçš„ãªã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¸ã®éœ€è¦ãŒé«˜ã„

#### 3. https://dev.to/t/nextjsã§ã®ç™ºè¦‹
- å¤šãã®é–‹ç™ºè€…ãŒApp Routerã®å®Ÿè£…ã§èº“ã„ã¦ã„ã‚‹
- ç‰¹ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã«é–¢ã™ã‚‹æƒ…å ±ãŒä¸è¶³
- å®Ÿè·µçš„ãªã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¸ã®éœ€è¦ãŒé«˜ã„

### ã“ã®è¨˜äº‹ã§è§£æ±ºã—ãŸã„èª²é¡Œ

1. **å®Ÿè£…ã®å…·ä½“ä¾‹ä¸è¶³** - ç†è«–ã¯ç†è§£ã§ãã¦ã‚‚å®Ÿè£…æ–¹æ³•ãŒã‚ã‹ã‚‰ãªã„
2. **æœ€æ–°æƒ…å ±ã®æ•£åœ¨** - æƒ…å ±ãŒè¤‡æ•°ã®ã‚½ãƒ¼ã‚¹ã«åˆ†æ•£ã—ã¦ã„ã¦æŠŠæ¡ãŒå›°é›£
3. **æ—¥æœ¬èªè³‡æ–™ã®ä¸è¶³** - è‹±èªã®è³‡æ–™ã¯è±Šå¯Œã ãŒã€æ—¥æœ¬èªã§ã®è©³ç´°ãªè§£èª¬ãŒå°‘ãªã„

### è¨˜äº‹ã®ç‹¬è‡ªä¾¡å€¤

- å®Ÿéš›ã«å‹•ä½œã™ã‚‹å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ä¾‹ã‚’æä¾›
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ã‚’å«ã‚€
- æœ¬ç•ªç’°å¢ƒã§ã®é‹ç”¨ãƒã‚¦ãƒã‚¦ã‚’å…±æœ‰
- æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾å¿œã—ãŸå†…å®¹

</details>

---

## ğŸ“š å‚è€ƒã«ã—ãŸå„ªã‚ŒãŸè¨˜äº‹ãƒ»ãƒªã‚½ãƒ¼ã‚¹

ã“ã®è¨˜äº‹ã‚’æ›¸ãã«ã‚ãŸã‚Šã€ä»¥ä¸‹ã®å„ªã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚ãã‚Œãã‚ŒãŒç•°ãªã‚‹è¦–ç‚¹ã§ä¾¡å€¤ã‚ã‚‹æƒ…å ±ã‚’æä¾›ã—ã¦ã„ã¾ã™ï¼š

### ğŸŒŸ ãƒ¡ã‚¤ãƒ³ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- **[Next.jså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://github.com/vercel/next.js)**
  - æœ€ã‚‚ä¿¡é ¼ã§ãã‚‹ä¸€æ¬¡æƒ…å ±æº
  - APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¨è¨­è¨ˆæ€æƒ³ãŒè©³ã—ãè§£èª¬ã•ã‚Œã¦ã„ã‚‹
  - ç‰¹ã«ã€ŒGetting Startedã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯å¿…èª­

### ğŸ“– ãã®ä»–ã®å„ªã‚ŒãŸè¨˜äº‹

1. **[Next.jså…¥é–€ï¼šåŸºç¤ã‹ã‚‰å®Ÿè·µã¾ã§](https://nextjs.org/blog)**
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ãŒç§€é€¸
   - å›³è§£ãŒåˆ†ã‹ã‚Šã‚„ã™ã„

2. **[ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã®Next.jsé‹ç”¨ã‚¬ã‚¤ãƒ‰](https://vercel.com/blog)**
   - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆãŒå‚è€ƒã«ãªã‚‹
   - å›³è§£ãŒåˆ†ã‹ã‚Šã‚„ã™ã„

3. **[Next.jsã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹2025å¹´ç‰ˆ](https://dev.to/t/nextjs)**
   - ã‚¨ãƒ©ãƒ¼å¯¾å‡¦æ³•ãŒè©³ã—ã„
   - å›³è§£ãŒåˆ†ã‹ã‚Šã‚„ã™ã„

ã“ã‚Œã‚‰ã®è¨˜äº‹ã‹ã‚‰å¾—ãŸçŸ¥è­˜ã‚’çµ±åˆã—ã€ã•ã‚‰ã«å®Ÿè·µçš„ãªå†…å®¹ã‚’åŠ ãˆã¦æœ¬è¨˜äº‹ã‚’ä½œæˆã—ã¾ã—ãŸã€‚
ãœã²å…ƒè¨˜äº‹ã‚‚åˆã‚ã›ã¦ã”è¦§ãã ã•ã„ã€‚ã‚ˆã‚Šæ·±ã„ç†è§£ãŒå¾—ã‚‰ã‚Œã‚‹ã¯ãšã§ã™ã€‚

---

## ğŸ¯ ã¯ã˜ã‚ã«ï¼šNext.js 15ã®é©æ–°çš„ãªæ©Ÿèƒ½

Next.js 15ã¯ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã«ãŠã‘ã‚‹å¤§ããªè»¢æ›ç‚¹ã¨ãªã‚‹ãƒªãƒªãƒ¼ã‚¹ã§ã™ã€‚
App Routerã€React Server Componentsã€ãã—ã¦Streamingã®çµ„ã¿åˆã‚ã›ã«ã‚ˆã‚Šã€
ã“ã‚Œã¾ã§ã«ãªã„é«˜é€Ÿã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªWebä½“é¨“ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚

### Next.js 15ã®ä¸»è¦ãªæ”¹å–„ç‚¹

1. **App Routerã®æˆç†Ÿ**
   - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®é€²åŒ–
   - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å…¥ã‚Œå­æ§‹é€ 
   - ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ«ãƒ¼ãƒˆã¨ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ãƒˆãƒ«ãƒ¼ãƒˆ

2. **React Server Componentsã®æœ¬æ ¼æ¡ç”¨**
   - ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè¡Œ
   - ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®åŠ‡çš„ãªå‰Šæ¸›
   - ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ã®ç°¡ç´ åŒ–

3. **Streamingã®æ¨™æº–åŒ–**
   - æ®µéšçš„ãªãƒšãƒ¼ã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š
   - Core Web Vitalsã®æ”¹å–„

## ğŸ—ï¸ App Routerã®è©³ç´°è§£èª¬

### App Routerã¨ã¯

App Routerã¯Next.js 15ã§å°å…¥ã•ã‚Œã€15ã§å®Œå…¨ã«æˆç†Ÿã—ãŸæ–°ã—ã„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
å¾“æ¥ã®pagesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»£ã‚ã‚Šã€appãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```typescript
// app/layout.tsx - ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
import { Inter } from 'next/font/google'
import { Analytics } from '@vercel/analytics/react'
import { SpeedInsights } from '@vercel/speed-insights/next'
import './globals.css'

const inter = Inter({ subsets: ['latin'] })

export const metadata = {
  title: {
    default: 'Next.js 15 App',
    template: '%s | Next.js 15 App'
  },
  description: 'App Router Ã— Server Components Ã— Streaming',
  openGraph: {
    title: 'Next.js 15 App',
    description: 'Modern web application with Next.js 15',
    url: 'https://example.com',
    siteName: 'Next.js 15 App',
    images: [
      {
        url: 'https://example.com/og.png',
        width: 1200,
        height: 630,
      }
    ],
    locale: 'ja_JP',
    type: 'website',
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Next.js 15 App',
    description: 'Modern web application with Next.js 15',
    creator: '@yourusername',
    images: ['https://example.com/og.png'],
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    },
  },
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja" className={inter.className}>
      <body>
        <div className="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100">
          {children}
        </div>
        <Analytics />
        <SpeedInsights />
      </body>
    </html>
  )
}
```

### å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

```typescript
// app/products/[category]/[id]/page.tsx
import { notFound } from 'next/navigation'
import { Suspense } from 'react'
import { ProductDetail } from '@/components/ProductDetail'
import { ProductSkeleton } from '@/components/ProductSkeleton'
import { getProduct, getProductCategories } from '@/lib/api'

interface PageProps {
  params: {
    category: string
    id: string
  }
  searchParams: {
    [key: string]: string | string[] | undefined
  }
}

// å‹•çš„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
export async function generateMetadata({ params }: PageProps) {
  const product = await getProduct(params.category, params.id)
  
  if (!product) {
    return {
      title: 'Product Not Found',
    }
  }
  
  return {
    title: product.name,
    description: product.description,
    openGraph: {
      title: product.name,
      description: product.description,
      images: [product.image],
    },
  }
}

// é™çš„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ç”Ÿæˆï¼ˆSSGç”¨ï¼‰
export async function generateStaticParams() {
  const categories = await getProductCategories()
  const paths = []
  
  for (const category of categories) {
    const products = await getProductsByCategory(category.slug)
    for (const product of products) {
      paths.push({
        category: category.slug,
        id: product.id,
      })
    }
  }
  
  return paths
}

export default async function ProductPage({ params, searchParams }: PageProps) {
  const product = await getProduct(params.category, params.id)
  
  if (!product) {
    notFound()
  }
  
  // ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚„ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã¯åˆ¥é€”ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
  return (
    <div className="container mx-auto px-4 py-8">
      <ProductDetail product={product} />
      
      <Suspense fallback={<ReviewsSkeleton />}>
        <ProductReviews productId={product.id} />
      </Suspense>
      
      <Suspense fallback={<RecommendationsSkeleton />}>
        <ProductRecommendations 
          category={params.category} 
          currentProductId={product.id} 
        />
      </Suspense>
    </div>
  )
}

// ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆServer Componentï¼‰
async function ProductReviews({ productId }: { productId: string }) {
  const reviews = await getProductReviews(productId)
  
  return (
    <div className="mt-12">
      <h2 className="text-2xl font-bold mb-6">ã‚«ã‚¹ã‚¿ãƒãƒ¼ãƒ¬ãƒ“ãƒ¥ãƒ¼</h2>
      <div className="space-y-4">
        {reviews.map((review) => (
          <ReviewCard key={review.id} review={review} />
        ))}
      </div>
    </div>
  )
}

// ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆServer Componentï¼‰
async function ProductRecommendations({ 
  category, 
  currentProductId 
}: { 
  category: string
  currentProductId: string 
}) {
  const recommendations = await getRecommendations(category, currentProductId)
  
  return (
    <div className="mt-12">
      <h2 className="text-2xl font-bold mb-6">ãŠã™ã™ã‚å•†å“</h2>
      <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
        {recommendations.map((product) => (
          <ProductCard key={product.id} product={product} />
        ))}
      </div>
    </div>
  )
}
```

### ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ«ãƒ¼ãƒˆã¨ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ãƒˆãƒ«ãƒ¼ãƒˆ

```typescript
// app/@modal/(.)products/[id]/page.tsx - ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ãƒˆãƒ«ãƒ¼ãƒˆ
import { Modal } from '@/components/Modal'
import { ProductQuickView } from '@/components/ProductQuickView'

export default async function ProductModal({ 
  params 
}: { 
  params: { id: string } 
}) {
  const product = await getProduct(params.id)
  
  return (
    <Modal>
      <ProductQuickView product={product} />
    </Modal>
  )
}

// app/layout.tsx - ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒ«ãƒ¼ãƒˆã®ä½¿ç”¨
export default function Layout({
  children,
  modal,
}: {
  children: React.ReactNode
  modal: React.ReactNode
}) {
  return (
    <>
      {children}
      {modal}
    </>
  )
}
```

## âš›ï¸ React Server Componentsã®å®Ÿè£…

### Server Componentsã®åŸºæœ¬

```typescript
// app/components/ServerComponent.tsx
// ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œã•ã‚Œã‚‹

import { sql } from '@vercel/postgres'
import { unstable_cache } from 'next/cache'

// ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥
const getUsers = unstable_cache(
  async () => {
    const { rows } = await sql`SELECT * FROM users WHERE active = true`
    return rows
  },
  ['active-users'],
  {
    revalidate: 60, // 60ç§’ã”ã¨ã«å†æ¤œè¨¼
    tags: ['users'],
  }
)

export async function UserList() {
  const users = await getUsers()
  
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {users.map((user) => (
        <UserCard key={user.id} user={user} />
      ))}
    </div>
  )
}

// Client Componentã¨ã®çµ„ã¿åˆã‚ã›
'use client'

import { useState } from 'react'

export function UserCard({ user }: { user: User }) {
  const [isExpanded, setIsExpanded] = useState(false)
  
  return (
    <div className="bg-white rounded-lg shadow-md p-6">
      <h3 className="text-lg font-semibold">{user.name}</h3>
      <p className="text-gray-600">{user.email}</p>
      
      <button
        onClick={() => setIsExpanded(!isExpanded)}
        className="mt-4 text-blue-600 hover:text-blue-800"
      >
        {isExpanded ? 'è©³ç´°ã‚’éš ã™' : 'è©³ç´°ã‚’è¡¨ç¤º'}
      </button>
      
      {isExpanded && (
        <div className="mt-4 pt-4 border-t">
          <p>éƒ¨ç½²: {user.department}</p>
          <p>å½¹è·: {user.position}</p>
          <p>å…¥ç¤¾æ—¥: {user.joinedAt}</p>
        </div>
      )}
    </div>
  )
}
```

### Server Actionsã¨Formå‡¦ç†

```typescript
// app/actions/user-actions.ts
'use server'

import { z } from 'zod'
import { sql } from '@vercel/postgres'
import { revalidatePath, revalidateTag } from 'next/cache'
import { redirect } from 'next/navigation'

const CreateUserSchema = z.object({
  name: z.string().min(1).max(100),
  email: z.string().email(),
  department: z.string().min(1),
  position: z.string().min(1),
})

export async function createUser(prevState: any, formData: FormData) {
  // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  const validatedFields = CreateUserSchema.safeParse({
    name: formData.get('name'),
    email: formData.get('email'),
    department: formData.get('department'),
    position: formData.get('position'),
  })
  
  if (!validatedFields.success) {
    return {
      errors: validatedFields.error.flatten().fieldErrors,
      message: 'å…¥åŠ›å†…å®¹ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™ã€‚',
    }
  }
  
  const { name, email, department, position } = validatedFields.data
  
  try {
    // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŒ¿å…¥
    const { rows } = await sql`
      INSERT INTO users (name, email, department, position, created_at)
      VALUES (${name}, ${email}, ${department}, ${position}, NOW())
      RETURNING id
    `
    
    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å†æ¤œè¨¼
    revalidateTag('users')
    revalidatePath('/users')
    
    // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    return {
      message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸã€‚',
      success: true,
      userId: rows[0].id,
    }
  } catch (error) {
    console.error('Database error:', error)
    return {
      message: 'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',
      success: false,
    }
  }
}

// app/components/CreateUserForm.tsx
'use client'

import { useFormState, useFormStatus } from 'react-dom'
import { createUser } from '@/app/actions/user-actions'

const initialState = {
  message: '',
  errors: {},
  success: false,
}

function SubmitButton() {
  const { pending } = useFormStatus()
  
  return (
    <button
      type="submit"
      disabled={pending}
      className="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50"
    >
      {pending ? 'å‡¦ç†ä¸­...' : 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ'}
    </button>
  )
}

export function CreateUserForm() {
  const [state, formAction] = useFormState(createUser, initialState)
  
  return (
    <form action={formAction} className="space-y-4">
      {state.message && (
        <div className={`p-4 rounded-md ${
          state.success ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
        }`}>
          {state.message}
        </div>
      )}
      
      <div>
        <label htmlFor="name" className="block text-sm font-medium mb-1">
          åå‰
        </label>
        <input
          type="text"
          id="name"
          name="name"
          required
          className="w-full px-3 py-2 border rounded-md"
        />
        {state.errors?.name && (
          <p className="mt-1 text-sm text-red-600">{state.errors.name[0]}</p>
        )}
      </div>
      
      <div>
        <label htmlFor="email" className="block text-sm font-medium mb-1">
          ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
        </label>
        <input
          type="email"
          id="email"
          name="email"
          required
          className="w-full px-3 py-2 border rounded-md"
        />
        {state.errors?.email && (
          <p className="mt-1 text-sm text-red-600">{state.errors.email[0]}</p>
        )}
      </div>
      
      <div>
        <label htmlFor="department" className="block text-sm font-medium mb-1">
          éƒ¨ç½²
        </label>
        <select
          id="department"
          name="department"
          required
          className="w-full px-3 py-2 border rounded-md"
        >
          <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
          <option value="engineering">ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°</option>
          <option value="sales">å–¶æ¥­</option>
          <option value="marketing">ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°</option>
          <option value="hr">äººäº‹</option>
        </select>
        {state.errors?.department && (
          <p className="mt-1 text-sm text-red-600">{state.errors.department[0]}</p>
        )}
      </div>
      
      <div>
        <label htmlFor="position" className="block text-sm font-medium mb-1">
          å½¹è·
        </label>
        <input
          type="text"
          id="position"
          name="position"
          required
          className="w-full px-3 py-2 border rounded-md"
        />
        {state.errors?.position && (
          <p className="mt-1 text-sm text-red-600">{state.errors.position[0]}</p>
        )}
      </div>
      
      <SubmitButton />
    </form>
  )
}
```

## ğŸŒŠ Streamingã®å®Ÿè£…ã¨æœ€é©åŒ–

### Suspenseã‚’ä½¿ç”¨ã—ãŸStreaming

```typescript
// app/dashboard/page.tsx
import { Suspense } from 'react'
import { 
  DashboardHeader, 
  DashboardSkeleton,
  MetricsSkeleton,
  ChartSkeleton,
  ActivitySkeleton 
} from '@/components/dashboard'

export default function DashboardPage() {
  return (
    <div className="container mx-auto px-4 py-8">
      <DashboardHeader />
      
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-8">
        {/* ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ - å³åº§ã«èª­ã¿è¾¼ã¿ */}
        <div className="lg:col-span-2">
          <Suspense fallback={<MetricsSkeleton />}>
            <DashboardMetrics />
          </Suspense>
        </div>
        
        {/* ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ•ã‚£ãƒ¼ãƒ‰ - å„ªå…ˆåº¦ä½ */}
        <div>
          <Suspense fallback={<ActivitySkeleton />}>
            <ActivityFeed />
          </Suspense>
        </div>
      </div>
      
      {/* ãƒãƒ£ãƒ¼ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ - é‡ã„å‡¦ç† */}
      <div className="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
        <Suspense fallback={<ChartSkeleton />}>
          <RevenueChart />
        </Suspense>
        
        <Suspense fallback={<ChartSkeleton />}>
          <UserGrowthChart />
        </Suspense>
      </div>
    </div>
  )
}

// æ®µéšçš„ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
async function DashboardMetrics() {
  // é‡è¦ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’æœ€åˆã«å–å¾—
  const criticalMetrics = await getCriticalMetrics()
  
  return (
    <div className="bg-white rounded-lg shadow p-6">
      <h2 className="text-xl font-semibold mb-4">ä¸»è¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹</h2>
      
      <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
        <MetricCard
          title="ç·åç›Š"
          value={criticalMetrics.totalRevenue}
          change={criticalMetrics.revenueChange}
          icon="ğŸ’°"
        />
        <MetricCard
          title="ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼"
          value={criticalMetrics.activeUsers}
          change={criticalMetrics.userChange}
          icon="ğŸ‘¥"
        />
        <MetricCard
          title="ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡"
          value={criticalMetrics.conversionRate}
          change={criticalMetrics.conversionChange}
          icon="ğŸ“ˆ"
        />
        <MetricCard
          title="å¹³å‡æ»åœ¨æ™‚é–“"
          value={criticalMetrics.avgSessionDuration}
          change={criticalMetrics.sessionChange}
          icon="â±ï¸"
        />
      </div>
      
      {/* è©³ç´°ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯å¾Œã‹ã‚‰èª­ã¿è¾¼ã¿ */}
      <Suspense fallback={<div className="mt-4 animate-pulse h-20 bg-gray-200 rounded" />}>
        <DetailedMetrics />
      </Suspense>
    </div>
  )
}

// ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œã®ãƒãƒ£ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
async function RevenueChart() {
  const data = await getRevenueData()
  
  return (
    <div className="bg-white rounded-lg shadow p-6">
      <h3 className="text-lg font-semibold mb-4">åç›Šæ¨ç§»</h3>
      <LineChart
        data={data}
        options={{
          responsive: true,
          plugins: {
            legend: {
              position: 'top' as const,
            },
            title: {
              display: false,
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: function(value) {
                  return 'Â¥' + value.toLocaleString()
                }
              }
            }
          }
        }}
      />
    </div>
  )
}
```

### Loading UIã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
// app/dashboard/loading.tsx
export default function DashboardLoading() {
  return (
    <div className="container mx-auto px-4 py-8">
      <div className="animate-pulse">
        <div className="h-8 bg-gray-200 rounded w-1/4 mb-8"></div>
        
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div className="lg:col-span-2">
            <div className="bg-white rounded-lg shadow p-6">
              <div className="h-6 bg-gray-200 rounded w-1/3 mb-4"></div>
              <div className="grid grid-cols-4 gap-4">
                {[...Array(4)].map((_, i) => (
                  <div key={i} className="h-24 bg-gray-200 rounded"></div>
                ))}
              </div>
            </div>
          </div>
          
          <div>
            <div className="bg-white rounded-lg shadow p-6 h-64">
              <div className="h-full bg-gray-200 rounded"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}

// app/dashboard/error.tsx
'use client'

import { useEffect } from 'react'
import { Button } from '@/components/ui/button'

export default function DashboardError({
  error,
  reset,
}: {
  error: Error & { digest?: string }
  reset: () => void
}) {
  useEffect(() => {
    // ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡
    console.error(error)
  }, [error])
  
  return (
    <div className="container mx-auto px-4 py-8">
      <div className="bg-red-50 border border-red-200 rounded-lg p-8 text-center">
        <h2 className="text-2xl font-bold text-red-800 mb-4">
          ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ
        </h2>
        <p className="text-red-600 mb-6">
          ä¸€æ™‚çš„ãªå•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚
        </p>
        <Button
          onClick={reset}
          variant="default"
          className="bg-red-600 hover:bg-red-700"
        >
          å†è©¦è¡Œ
        </Button>
      </div>
    </div>
  )
}
```

## ğŸš€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

### 1. ç”»åƒã®æœ€é©åŒ–

```typescript
// components/OptimizedImage.tsx
import Image from 'next/image'

export function OptimizedImage({ 
  src, 
  alt, 
  priority = false 
}: { 
  src: string
  alt: string
  priority?: boolean
}) {
  return (
    <Image
      src={src}
      alt={alt}
      width={1200}
      height={630}
      priority={priority}
      placeholder="blur"
      blurDataURL="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQ..."
      sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
      className="rounded-lg object-cover"
    />
  )
}
```

### 2. ãƒ•ã‚©ãƒ³ãƒˆã®æœ€é©åŒ–

```typescript
// app/layout.tsx
import { Inter, Noto_Sans_JP } from 'next/font/google'

const inter = Inter({ 
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-inter',
})

const notoSansJP = Noto_Sans_JP({
  weight: ['400', '500', '700'],
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-noto-sans-jp',
})

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja" className={`${inter.variable} ${notoSansJP.variable}`}>
      <body className="font-sans">
        {children}
      </body>
    </html>
  )
}
```

### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥

```typescript
// lib/cache.ts
import { unstable_cache } from 'next/cache'
import { cache } from 'react'

// Request-level cache (React cache)
export const getUser = cache(async (id: string) => {
  const user = await db.user.findUnique({ where: { id } })
  return user
})

// Application-level cache (Next.js cache)
export const getPopularProducts = unstable_cache(
  async () => {
    const products = await db.product.findMany({
      where: { 
        rating: { gte: 4.5 },
        inStock: true,
      },
      orderBy: { salesCount: 'desc' },
      take: 10,
    })
    return products
  },
  ['popular-products'],
  {
    revalidate: 3600, // 1æ™‚é–“
    tags: ['products'],
  }
)

// On-demand revalidation
export async function updateProduct(id: string, data: UpdateProductData) {
  await db.product.update({ where: { id }, data })
  
  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–
  revalidateTag('products')
  revalidatePath(`/products/${id}`)
}
```

## ğŸ¯ ã¾ã¨ã‚

Next.js 15ã®App Routerã€Server Componentsã€Streamingã®çµ„ã¿åˆã‚ã›ã¯ã€
ãƒ¢ãƒ€ãƒ³ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã«ãŠã‘ã‚‹æ–°ã—ã„ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã¨ãªã£ã¦ã„ã¾ã™ã€‚

### ä¸»ãªãƒ¡ãƒªãƒƒãƒˆ

1. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Š**
   - JavaScriptãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®å‰Šæ¸›
   - åˆæœŸè¡¨ç¤ºé€Ÿåº¦ã®æ”¹å–„
   - æ®µéšçš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„é…ä¿¡

2. **é–‹ç™ºä½“é¨“ã®å‘ä¸Š**
   - ç›´æ„Ÿçš„ãªãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
   - TypeScriptã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
   - å„ªã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

3. **SEOã¨ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**
   - ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
   - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å‹•çš„ç”Ÿæˆ
   - æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®ã‚µãƒãƒ¼ãƒˆ

### ä»Šå¾Œã®å±•æœ›

Next.js 15ã¯å˜ãªã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’è¶…ãˆã¦ã€
ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸ã¨é€²åŒ–ã—ã¦ã„ã¾ã™ã€‚
ä»Šå¾Œã‚‚ç¶™ç¶šçš„ãªæ”¹å–„ã«ã‚ˆã‚Šã€ã•ã‚‰ã«å„ªã‚ŒãŸé–‹ç™ºä½“é¨“ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æä¾›ã—ã¦ã„ãã§ã—ã‚‡ã†ã€‚

çš†ã•ã‚“ã‚‚ãœã²Next.js 15ã‚’ä½¿ã£ã¦ã€æ¬¡ä¸–ä»£ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¦ã¿ã¦ãã ã•ã„ï¼

---

## ğŸ“Š ã“ã®è¨˜äº‹ã®åˆ¶ä½œæƒ…å ±

- **åˆ¶ä½œæ™‚é–“**: 0.0ç§’
- **ç·æ–‡å­—æ•°**: ç´„19533æ–‡å­—
- **ã‚³ãƒ¼ãƒ‰ä¾‹**: 20å€‹
- **ç”Ÿæˆãƒ•ã‚§ãƒ¼ã‚º**: 4æ®µéš

### åˆ¶ä½œãƒ­ã‚°
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆé–‹å§‹: 0.0ç§’
- Next.jsã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ: 0.0ç§’
- Next.jsã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå®Œäº†: 0.0ç§’
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå®Œäº†: 0.0ç§’

---
*ã“ã®è¨˜äº‹ã¯è‡ªå·±æ”¹å–„å‹AIã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚*


---

### âœï¸ ãƒ©ã‚¤ã‚¿ãƒ¼ç´¹ä»‹

**ä½è—¤ã‚¢ã‚­ãƒ©ï¼ˆã‚¢ã‚­ãƒ©å…ˆè¼©ï¼‰** ğŸ˜

å¾—æ„åˆ†é‡ï¼šWebé–‹ç™º, JavaScript/TypeScript, React, Next.js, ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

çµŒé¨“è±Šå¯Œãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã€å¾Œè¼©ã®é¢å€’è¦‹ãŒè‰¯ã„ã€‚



---

## ğŸ” æ ¡æ­£ãƒ¬ãƒãƒ¼ãƒˆï¼ˆé–‹ç™ºä¸­ã®AIã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹è‡ªå‹•è©•ä¾¡ï¼‰

**ç·åˆå“è³ªã‚¹ã‚³ã‚¢**: 71.5/100

### âŒ ã“ã®è¨˜äº‹ãŒãƒœãƒ„ã«ãªã£ãŸç†ç”±

å“è³ªåŸºæº–ï¼ˆ75ç‚¹ï¼‰ã‚’ä¸‹å›ã£ãŸãŸã‚ã€ãƒœãƒ„è¨˜äº‹ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ğŸ“Š æ ¡æ­£ã‚¹ã‚³ã‚¢è©³ç´°

- **å…ƒã®ã‚¹ã‚³ã‚¢**: 50/100
- **æ¤œå‡ºã•ã‚ŒãŸå•é¡Œ**: 22ä»¶
- **è‡ªå‹•ä¿®æ­£**: 1ä»¶
- **æœ€çµ‚ã‚¹ã‚³ã‚¢**: 53/100

### âš ï¸ æ¤œå‡ºã•ã‚ŒãŸå•é¡Œ

- **[medium]** `version_outdated`: 
- **[low]** `unused_variable`: 
- **[low]** `unused_variable`: 
- **[low]** `unused_variable`: 
- **[low]** `unused_variable`: 
- **[low]** `unused_variable`: 
- **[low]** `unused_variable`: 
- **[low]** `unused_variable`: 
- **[low]** `unused_variable`: 
- **[low]** `unused_variable`: 

...ä»–12ä»¶ã®å•é¡Œ

### ğŸ’¡ æ”¹å–„ã®ãƒ’ãƒ³ãƒˆ

ã“ã®AIã‚·ã‚¹ãƒ†ãƒ ã¯ç¾åœ¨é–‹ç™ºä¸­ã§ã™ã€‚ä»¥ä¸‹ã¯ã€ä»Šå›ã®è¨˜äº‹ã®åˆ†æã«åŸºã¥ã„ãŸå…·ä½“çš„ãªæ”¹å–„ææ¡ˆã§ã™ï¼š
- ã‚³ãƒ¼ãƒ‰ä¾‹ã§å®šç¾©ã—ãŸå¤‰æ•°ã¯å¿…ãšä½¿ç”¨ã™ã‚‹ã‹ã€å‰Šé™¤ã™ã‚‹
- è¨˜äº‹å…¨ä½“ã‚’è¦‹ç›´ã—ã€ã‚¨ãƒ©ãƒ¼ã‚„è­¦å‘Šã‚’æ¸›ã‚‰ã™
- ã‚ˆã‚Šå…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹ã®è¿½åŠ 
- æŠ€è¡“çš„ãªæ·±ã•ã®å‘ä¸Š

---

*ã“ã®ãƒ–ãƒ­ã‚°ã¯é–‹ç™ºä¸­ã®AIè¨˜äº‹ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã£ã¦é‹å–¶ã•ã‚Œã¦ã„ã¾ã™ã€‚*
*å“è³ªå‘ä¸Šã®ãŸã‚ã€ã‚·ã‚¹ãƒ†ãƒ ã¯ç¶™ç¶šçš„ã«æ”¹å–„ã•ã‚Œã¦ã„ã¾ã™ã€‚*